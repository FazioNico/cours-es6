{"version":3,"sources":["node_modules/browser-pack/_prelude.js","dev/app/app.js","dev/app/components/background/background-component.js","dev/app/components/links/links-component.js","dev/app/components/links/links-skeleton.js","dev/app/components/timer/timer-component.js","dev/app/pages/home/home-skeleton.js","dev/app/pages/home/home.js","dev/app/pages/user/user-skeleton.js","dev/app/pages/user/user.js","dev/app/providers/links/links-service.js","dev/app/providers/storage/storage-service.js","dev/app/providers/unsplash/apiKey-config.js","dev/app/providers/unsplash/unsplash-service.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","_home","_user","_storageService","MyApp","_classCallCheck","this","appBody","document","getElementsByTagName","storage","StorageService","loadData","isAuth","console","log","db","currentUser","UserPage","HomePage","myApp","start","_unsplashService","BackgroundComponent","unsplash","UnsplashService","pageContainer","addressContainer","downEl","getElementById","getBackgroundIMG","_this","queryService","getRandomImg","then","response","displayBackground","JSON","parse","displayImgInfo","catch","handleErrors","data","_this2","style","color","backgroundSize","img","Image","src","urls","regular","background","addEventListener","event","fadeIn","_this3","cursor","textDecoration","display","innerHTML","user","name","onGoToLink","username","links","download","url","preventDefault","win","window","open","focus","htmlElement","classList","add","error","parentElement","errorSkeleton","insertAdjacentHTML","_linksService","_linksSkeleton","LinksComponent","storageService","mainContent","content","linksService","LinksService","initUI","loadLinksData","loadEventUI","asideSk","getSkeleton","asideSkeleton","linkSk","linkSkeleton","skeleton","arguments","undefined","initData","getData","displayDataLinksBtn","displayDataLinksInput","dataArray","datas","concat","_toConsumableArray","dataReady","map","link","title","linksContent","join","indexInput","inputDataReady","inputSk","inputLinksSkeleton","push","settingFormContent","dataLinks","saveData","toggleAside","buttonSaveDataLinks","formValidator","closeBtn","getElementsByClassName","logout","logOut","z","x","elements","value","el","aside","toggle","update","location","reload","email","TimerComponent","time","Date","displayTime","timeElement","getTime","fontSize","margin","setInterval","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","homeSkeleton","pageTitle","_homeSkeleton","parentNode","removeChild","pageSkeleton","getPageSkeleton","loginForm","onLogin","validationInput","formInput","form","forms","login","userSkeleton","userName","_userSkeleton","_timerComponent","_linksComponent","_backgroundComponent","formData","grettings","getUserName","displayLinks","search","keyCode","target","blur","iconSearch","closeSearch","getGreetings","greetingTitle","split","c","slice","toUpperCase","arrayData","userData","Promise","resolve","dbName","read","_db","apply","create","found","forEach","index","newUser","_newUser","localStorage","setItem","stringify","query","getItem","item","API_KEY_CONFIG","client_id","client_secret","_apiKeyConfig","params","queryUrl","reject","req","XMLHttpRequest","onload","status","responseText","statusText","onerror","send"],"mappings":"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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/**\n* @Author: Nicolas Fazio <webmaster-fazio>\n* @Date:   01-09-2016\n* @Email:  contact@nicolasfazio.ch\n* @Last modified by:   webmaster-fazio\n* @Last modified time: 15-01-2017\n*/\n\nimport { HomePage } from './pages/home/home';\nimport { UserPage } from './pages/user/user';\nimport { StorageService } from './providers/storage/storage-service';\n\nclass MyApp {\n\n  constructor(){\n    this.appBody = document.getElementsByTagName(\"app\")[0];\n    this.storage = new StorageService();\n    this.storage.loadData()\n  }\n\n  start(){\n    if(this.storage.isAuth()){\n      console.log('user auth-> ',this.storage.isAuth(), this.storage.db[this.storage.currentUser])\n      new UserPage(this.appBody,this.storage)\n    }\n    else {\n      console.log('user auth-> ',this.storage.isAuth())\n      // init HomePage\n      let homePage = new HomePage(this.appBody, this.storage);\n    }\n  }\n\n}\n\nlet myApp = new MyApp();\nmyApp.start();\n","/**\n* @Author: Nicolas Fazio <webmaster-fazio>\n* @Date:   10-12-2016\n* @Email:  contact@nicolasfazio.ch\n* @Last modified by:   webmaster-fazio\n* @Last modified time: 11-12-2016\n*/\n\nimport  { UnsplashService } from '../../providers/unsplash/unsplash-service';\n\nexport class BackgroundComponent {\n\n  constructor(){\n    console.log('Hello BackgroundComponent!')\n    this.unsplash = new UnsplashService();\n    this.pageContainer = document.getElementsByTagName(\"section\")[0]\n    this.addressContainer = document.getElementsByTagName(\"address\")[0]\n    this.downEl = document.getElementById(\"download\")\n    this.getBackgroundIMG()\n  }\n\n  getBackgroundIMG(){\n    let queryService = this.unsplash.getRandomImg()\n    queryService.then((response)=>{\n      //console.log('res 1 -> ', response)\n       this.displayBackground(JSON.parse(response))\n       return response\n     })\n     .then((response)=>{\n       this.displayImgInfo(JSON.parse(response));\n     })\n      .catch((e)=> {\n          this.handleErrors(e)\n      });\n  }\n\n  displayBackground(data){\n    // console.log('service response-> ')\n    // console.log( data[0] )\n    if(this.pageContainer){\n      // some css with JS for BG\n      this.pageContainer.style.color = `#fff`;\n      this.pageContainer.style.backgroundSize = `cover`;\n      // charge img url into a IMG element to detect loading complet\n      let img = new Image();\n      img.src = data[0].urls.regular\n      this.pageContainer.style.background = `url(${data[0].urls.regular}) center center no-repeat`;\n      // listen loading img.src to display $pageContainer\n      img.addEventListener('load', event => {\n        console.log('Background img loaded!')\n        this.fadeIn(this.pageContainer)\n      })\n    }\n  }\n\n  displayImgInfo(data){\n    //console.log('displayImgInfo-> ',data)\n    // add author info\n    if(this.addressContainer){\n      this.addressContainer.style.cursor = 'pointer';\n      this.addressContainer.style.textDecoration = 'underline';\n      this.addressContainer.style.display = 'inline';\n      this.addressContainer.innerHTML = `${data[0].user.name}`\n      this.addressContainer.addEventListener('click', event =>\n        this.onGoToLink(event, `https://unsplash.com/@${data[0].user.username}`), false\n      )\n    }\n    // add download link for img\n    if(this.downEl){\n      this.downEl.addEventListener('click', event =>\n        this.onGoToLink(event, data[0].links.download), false\n      )\n    }\n  }\n\n\n  onGoToLink(event,url){\n    event.preventDefault();\n    let win = window.open(url, '_blank');\n    win.focus();\n  }\n\n  fadeIn(htmlElement){\n    // use add class CSS to add display transition\n    htmlElement.classList.add('fadeIn')\n  }\n\n  handleErrors(error){\n    console.log(\"XXXXXXX ERROR -> \");\n    console.log(error);\n    if(this.addressContainer){\n      this.addressContainer.parentElement.innerHTML = ''\n    }\n    if(this.downEl){\n      this.downEl.innerHTML = '';\n    }\n    if(document.getElementById('search')){\n      document.getElementById('search').parentElement.innerHTML = '';\n    }\n    if(document.getElementById('LinksComponent')){\n      document.getElementById('LinksComponent').innerHTML = '';\n    }\n    if(this.pageContainer){\n\n      if(document.getElementById('time')){\n        let errorSkeleton = `\n          <div class=\"chip red lighten-2\">\n            <span class=\"white-text\">${error}</span>\n          </div>\n        `;\n        document.getElementById('time').parentElement.insertAdjacentHTML( 'afterbegin', errorSkeleton )\n      }\n      // some css with JS for BG\n      this.pageContainer.style.color = `#fff`;\n      this.pageContainer.style.backgroundSize = `cover`;\n      this.fadeIn(this.pageContainer)\n    }\n\n  }\n}\n","/**\n* @Author: Nicolas Fazio <webmaster-fazio>\n* @Date:   09-12-2016\n* @Email:  contact@nicolasfazio.ch\n* @Last modified by:   webmaster-fazio\n* @Last modified time: 16-01-2017\n*/\n\nimport  { LinksService } from '../../providers/links/links-service';\nimport  { linkSkeleton, asideSkeleton, inputLinksSkeleton } from './links-skeleton';\n\nexport class LinksComponent{\n\n  constructor(storageService){\n    console.log('Hello LinksComponent!')\n    this.mainContent = document.getElementsByTagName(\"main\")[0];\n    this.content = document.getElementById('LinksComponent')\n    this.storageService = storageService;\n    this.linksService = new LinksService()\n    this.initUI()\n    this.loadLinksData()\n    this.loadEventUI()\n  }\n\n  /* Core Methode */\n  initUI(){\n    if(this.content){\n      // format data before send to aside template Skeleton\n      let data = {}\n      data.user = this.storageService.db[this.storageService.currentUser].user;\n      let asideSk = this.getSkeleton(asideSkeleton, data)\n\n      let linkSk = this.getSkeleton(linkSkeleton)\n      this.mainContent.insertAdjacentHTML('afterend', asideSk)\n      this.content.insertAdjacentHTML( 'afterbegin', linkSk )\n    }\n  }\n\n  getSkeleton(skeleton, data = {}){\n    // return page skeleton\n    return  skeleton(data);\n  }\n\n  loadLinksData(){\n    // init linksService with data from storageService\n    this.linksService.initData(this.storageService)\n    // now w're ready to call data loader\n    this.linksService.getData().then((response)=>{\n      // then get response data and pass it to displayDataLinks()\n      //console.log(response)\n      this.displayDataLinksBtn(response)\n      this.displayDataLinksInput(response)\n    })\n  }\n\n  displayDataLinksBtn(dataArray){\n    /*\n     display Data with button\n    */\n    let datas = [...dataArray]\n    let dataReady = datas.map((link)=>{\n      return `<a href=\"${link.url}\" class=\"btn transparent z-depth-0\" target=\"_blank\" title=\"${link.title}\">${link.title}</a>`\n    })\n    let linksContent = document.getElementById('linksData')\n    if(linksContent){\n      // inject template into DOM\n      linksContent.innerHTML = dataReady.join(' ')\n    }\n  }\n\n  displayDataLinksInput(dataArray){\n    /*\n      display data in aside form (into input section)\n    */\n    // formating output data\n    let datas = [...dataArray]\n    let indexInput = 0;\n    let inputDataReady = datas.map((link)=>{\n      // format data before send to template Skeleton\n      let data = {}\n      data.indexInput = indexInput;\n      data.link = link;\n      // call Seleton with data ready\n      let inputSk = this.getSkeleton(inputLinksSkeleton, data)\n      ++indexInput;\n      return inputSk\n    })\n    // add empty input if inputDataReady.length < 3\n    for (var i = 0; i < 3; i++) {\n      if(inputDataReady.length <3){\n        // format data before send to template Skeleton\n        let data = {}\n        data.indexInput = inputDataReady.length;\n        data.link = {title: '', url: ''};\n        // call Seleton with data ready\n        let inputSk = this.getSkeleton(inputLinksSkeleton, data)\n        ++indexInput;\n        // push empty input into inputDataReady array\n        inputDataReady.push(inputSk)\n      }\n    }\n    //console.log('inputDataReady->', inputDataReady)\n    let settingFormContent = document.getElementById('linkSettingForm')\n    if(settingFormContent) {\n      // inject template into DOM\n      settingFormContent.innerHTML = inputDataReady.join(' ')\n    }\n  }\n\n  saveData(dataLinks){\n    console.log('Save data-> ', dataLinks)\n    this.linksService.saveData(dataLinks)\n    this.toggleAside()\n    this.displayDataLinksBtn(dataLinks)\n    this.displayDataLinksInput(dataLinks)\n  }\n\n  /* Event Loading Methode */\n  loadEventUI(){\n    // Save data link form\n    let buttonSaveDataLinks = document.getElementById('saveLinksData')\n    if(buttonSaveDataLinks){\n      buttonSaveDataLinks.addEventListener('click', e => this.formValidator(e))\n    }\n    // Close aside links setting\n    let closeBtn = document.getElementsByClassName('close')\n    if(closeBtn){\n      for (var i = 0; i < closeBtn.length; i++) {\n        closeBtn[i].addEventListener('click', e => {\n          e.preventDefault();\n          this.toggleAside(e)\n        })\n      }\n    }\n    // User Logout\n    let logoutBtn = document.getElementById('logout')\n    if(logout){\n      logout.addEventListener('click', e => this.logOut())\n    }\n  }\n\n  /* Event Methode */\n  formValidator(e){\n    e.preventDefault()\n    let z = [];\n    let x = document.getElementById('linkSettingForm').elements\n    for (var i = 0; i < x.length; i++) {\n      if(!z[x[i].name]){\n        z.push({\n          title: x[i].value\n        })\n      }\n      else {\n        z[x[i].name].url = x[i].value\n      }\n    }\n    let o = [];\n    z.map((el)=>{\n      //console.log(el)\n      if(el.title\n        && el.title.length >0\n        && el.url.length >0\n      ){\n        o.push(el)\n      }\n    })\n    // To prevent no data\n    // if(o.length<=0){\n    //   console.log('Error: no data-> ', o)\n    //   return\n    // }\n    // Save data\n    this.saveData(o)\n  }\n\n  toggleAside(){\n    let aside = document.getElementsByTagName(\"aside\")[0];\n    if(aside){\n      aside.classList.toggle('open')\n    }\n  }\n\n  logOut(){\n    console.log('user logout')\n    this.storageService.db[this.storageService.currentUser].user.isAuth = false;\n    this.storageService.update()\n    this.toggleAside()\n    location.reload();\n  }\n}\n","/**\n* @Author: Nicolas Fazio <webmaster-fazio>\n* @Date:   15-01-2017\n* @Email:  contact@nicolasfazio.ch\n* @Last modified by:   webmaster-fazio\n* @Last modified time: 15-01-2017\n*/\n\nexport function linkSkeleton(data){\n  return `\n    <div class=\"row\">\n      <div class=\"col s12\">\n        <div id=\"linksData\"></div>\n      </div>\n    </div>\n  `;\n}\nexport function asideSkeleton(data){\n  return `\n    <aside>\n    <div id=\"close\" class=\"close\">Settings</div>\n      <div class=\"container\">\n        <h1>User Profil</h1>\n        <div class=\"row\">\n          <div class=\"col s12\">\n            <span>\n              You're connected as <b>${data.user.email}</b>. Want to <span id=\"logout\">logout?</span>\n            </span>\n          </div>\n        </div>\n        <h1>Links Settings:</h1>\n        <form id=\"linkSettingForm\">\n          <div class=\"row\">\n            <div class=\"input-field col s4\">\n              <input placeholder=\"title\" name=\"0\" type=\"text\" class=\"validate\">\n            </div>\n            <div class=\"input-field col s8\">\n              <input placeholder=\"url\" name=\"0\" type=\"url\" class=\"validate\">\n            </div>\n          </div>\n          <div class=\"row\">\n            <div class=\"input-field col s4\">\n              <input placeholder=\"title\" name=\"1\" type=\"text\" class=\"validate\">\n            </div>\n            <div class=\"input-field col s8\">\n              <input placeholder=\"url\" name=\"1\" type=\"url\" class=\"validate\">\n            </div>\n          </div>\n          <div class=\"row\">\n            <div class=\"input-field col s4\">\n              <input placeholder=\"title\" name=\"2\" type=\"text\" class=\"validate\">\n            </div>\n            <div class=\"input-field col s8\">\n              <input placeholder=\"url\" name=\"2\" type=\"url\" class=\"validate\">\n            </div>\n          </div>\n        </form>\n        <div class=\"row\">\n            <button class=\"close\">\n              Cancel\n            </button>\n            <button id=\"saveLinksData\">\n              Save\n            </button>\n        </div>\n      </div>\n    </aside>\n  `;\n}\n\nexport function inputLinksSkeleton(data){\n  return `\n    <div class=\"row\">\n      <div class=\"input-field col s4\">\n        <input placeholder=\"title\" name=\"${data.indexInput}\" type=\"text\" class=\"validate\" value=\"${data.link.title}\">\n      </div>\n      <div class=\"input-field col s8\">\n        <input placeholder=\"url\" name=\"${data.indexInput}\" type=\"url\" class=\"validate\" value=\"${data.link.url}\">\n      </div>\n    </div>\n  `;\n}\n","/**\n* @Author: Nicolas Fazio <webmaster-fazio>\n* @Date:   09-12-2016\n* @Email:  contact@nicolasfazio.ch\n* @Last modified by:   webmaster-fazio\n* @Last modified time: 12-12-2016\n*/\n\nexport class TimerComponent {\n\n  constructor(){\n    console.log('Hello Timer components!')\n    this.time = new Date();\n    this.displayTime()\n  }\n\n  displayTime(){\n    let timeElement = document.getElementById('time')\n    if(timeElement){\n      // some css with JS for time txt\n      timeElement.innerHTML = this.getTime(this.time)\n      timeElement.style.fontSize = '10rem';\n      timeElement.style.margin = '0rem';\n      // run interval\n      setInterval(()=>{\n        // asigne a new Date()\n        this.time = new Date();\n        //console.log(`${this.time.getHours()}:${this.time.getMinutes()}:${this.time.getSeconds()}`)\n        // replace innerHTML of time element\n        timeElement.innerHTML = this.getTime(this.time)\n      },1000)\n    }\n  }\n\n  getTime(time){\n    return    `\n    <time datetime=\"${(time.getFullYear() < 10)?'0'+time.getFullYear():time.getFullYear()}-${(time.getMonth() < 10)?'0'+time.getMonth():time.getMonth()}-${(time.getDate() < 10)?'0'+time.getDate():time.getDate()} ${(time.getHours() < 10)?'0'+time.getHours():time.getHours()}:${(time.getMinutes() < 10)?'0'+time.getMinutes():time.getMinutes()}:${(time.getSeconds() < 10)?'0'+time.getSeconds():time.getSeconds()}\">\n      ${(time.getHours() < 10)?'0'+time.getHours():time.getHours()}:${(time.getMinutes() < 10)?'0'+time.getMinutes():time.getMinutes()}\n    </time >\n    `;\n  }\n}\n","export function homeSkeleton(data){\n  return `\n    <section class=\" valign-wrapper \">\n      <div class=\"valign\">\n        <div class=\" row\">\n\n          <div class=\"col s6 offset-s3\">\n            <h1>${data.pageTitle}</h1>\n            <p>Enter your email to use this application</p>\n            <form>\n              <p>\n                <input type=\"email\" name=\"email\" value=\"\" placeholder=\"your@email.com\"  /><br/>\n                <button>Login</button>\n              </p>\n            </form>\n          </div>\n\n        </div>\n      </div>\n\n    </section>`;\n}\n","/**\n* @Author: Nicolas Fazio <webmaster-fazio>\n* @Date:   15-09-2016\n* @Email:  contact@nicolasfazio.ch\n* @Last modified by:   webmaster-fazio\n* @Last modified time: 15-01-2017\n*/\n\nimport { homeSkeleton } from './home-skeleton';\nimport { UserPage } from '../../pages/user/user';\n\nexport class HomePage {\n\n  constructor(appBody,storageService){\n    this.appBody = appBody\n    this.pageTitle = 'Welcome';\n    this.storage = storageService\n    this.initUI();\n  }\n\n  initUI(){\n    // remove all section before display UI\n    if(document.getElementsByTagName(\"section\")[0]){\n      document.getElementsByTagName(\"section\")[0].parentNode.removeChild(document.getElementsByTagName(\"section\")[0])\n    }\n    // create page skeleton\n    let pageSkeleton = this.getPageSkeleton();\n    // add page skeleton in body\n    this.appBody.insertAdjacentHTML( 'afterbegin', pageSkeleton )\n    this.loadEventUI()\n\n  }\n\n  getPageSkeleton(){\n    // return page skeleton\n    let data = {}; // create obj to pass data\n    data.pageTitle = this.pageTitle // asigne data\n    return  homeSkeleton(data);\n  }\n\n  loadEventUI(){\n    let loginForm = document.getElementsByTagName(\"form\")[0];\n    loginForm.addEventListener(\"submit\",  event => this.onLogin(event), false)\n  }\n\n  onLogin(event){\n    event.preventDefault()\n    let validationInput = 0\n    let formInput = {}\n    let form = document.forms[0].elements\n    for (let i = 0; i < form.length; i++) {\n      if(form[i].value){\n        formInput[form[i].name] = form[i].value\n        validationInput++\n      }\n    }\n    if(validationInput === (form.length-1)){\n      // save in StorageService\n      this.storage.login(formInput)\n      // load UserPage\n      console.log('load UserPage')\n      new UserPage(this.appBody, this.storage);\n    }\n  }\n\n}\n","export function userSkeleton(data){\n  return `\n    <section class=\"valign-wrapper\">\n\n      <nav class=\"row transparent z-depth-0 flow-text\">\n        <div class=\"input-field col s6\">\n            <div class=\"input-field\">\n              <input id=\"search\" type=\"search\" required>\n              <label for=\"search\"><i class=\"material-icons\">search</i></label>\n              <i class=\"material-icons\" id=\"closeSearch\">close</i>\n            </div>\n        </div>\n        <div class=\"col s6 right-align\">\n            <i id=\"download\" class=\"material-icons\">file_download</i>\n        </div>\n      </nav>\n\n      <main class=\"valign center-align\">\n        <div class=\"row\">\n          <div class=\"col s12\">\n            <h1 id=\"time\"></h1>\n            <p class=\"greetings\"><span id=\"geetingTitle\">${data.pageTitle}</span> ${data.userName}!</p>\n          </div>\n        </div>\n        <div id=\"LinksComponent\"></div>\n      </main>\n\n      <footer>\n        <div class=\"row\">\n          <div class=\"col s6 left-align\">Photo by <address class=\"author\"></address></div>\n          <div class=\"col s6 right-align\">This app using <a href=\"https://unsplash.com\" target=\"_blank\" title=\"Unsplash API\">Unsplash API</a></div>\n        </div>\n      </footer>\n\n    </section>\n  `;\n}\n","/**\n* @Author: Nicolas Fazio <webmaster-fazio>\n* @Date:   15-09-2016\n* @Email:  contact@nicolasfazio.ch\n* @Last modified by:   webmaster-fazio\n* @Last modified time: 16-01-2017\n*/\n\nimport  { userSkeleton } from './user-skeleton';\nimport  { TimerComponent } from '../../components/timer/timer-component'\nimport  { LinksComponent } from '../../components/links/links-component'\nimport  { BackgroundComponent } from '../../components/background/background-component'\n\nexport class UserPage {\n\n  constructor(appBody, storageService){\n    this.appBody = appBody\n    this.storageService = storageService\n    this.formData = this.storageService.db[this.storageService.currentUser].user\n    this.pageTitle = this.grettings();\n    this.userName = this.getUserName();\n    this.initUI();\n    this.loadEventUI()\n  }\n\n  initUI(){\n    // remove all section before display UI\n    if(document.getElementsByTagName(\"section\")[0]){\n      document.getElementsByTagName(\"section\")[0].parentNode.removeChild(document.getElementsByTagName(\"section\")[0])\n    }\n    // create page skeleton\n    let pageSkeleton = this.getPageSkeleton();\n    // add page skeleton in body\n    this.appBody.insertAdjacentHTML( 'afterbegin', pageSkeleton )\n    document.getElementsByTagName(\"section\")[0].classList.add('displayOpacity');\n    this.displayTime()\n    this.displayLinks()\n    this.getBackgroundIMG()\n  }\n\n  getPageSkeleton(){\n    // return page skeleton\n    let data = {}; // create obj to pass data\n    data.pageTitle = this.pageTitle // asigne data\n    data.userName = this.userName\n    return  userSkeleton(data);\n  }\n\n  loadEventUI(){\n    let search = document.getElementById('search')\n    if(search){\n      search.addEventListener('keyup', event => {\n        if(event.keyCode === 13){\n          if(event.target.value.length >= 1){\n            console.log('https://www.google.ch/search?q='+event.target.value)\n            this.onGoToLink(event,'https://www.google.ch/search?q='+event.target.value)\n            // clean input value after go search\n            event.target.value = '';\n            // unfocus input element after go search\n            event.target.blur();\n          }\n        }\n      })\n      search.focus()\n    }\n    let iconSearch = document.getElementById('icon-search')\n    if(iconSearch){\n      iconSearch.addEventListener('click', event => {\n        if(search){\n          search.focus()\n        }\n      })\n    }\n    let closeSearch = document.getElementById('closeSearch')\n    if(closeSearch){\n      closeSearch.addEventListener('click', event => {\n        if(search){\n          search.value = '';\n          search.blur()\n        }\n      })\n    }\n  }\n\n  displayTime(){\n    new TimerComponent()\n  }\n\n  displayLinks(){\n    new LinksComponent(this.storageService);\n  }\n\n  getBackgroundIMG(){\n    new BackgroundComponent();\n  }\n\n  onGoToLink(event,url){\n    event.preventDefault();\n    let win = window.open(url, '_blank');\n    win.focus();\n  }\n\n  grettings(){\n    let grettings = this.getGreetings()\n    setInterval(()=>{\n      grettings = this.getGreetings()\n      let greetingTitle = document.getElementById('geetingTitle')\n      if(greetingTitle){\n        greetingTitle.innerHTML = grettings\n      }\n    },15000)\n    return grettings\n  }\n\n  getGreetings(){\n  let time = new Date()\n    let grettings;\n    switch (true) {\n      case time.getHours()>5 && time.getHours()<=10:\n        grettings = 'Good morning'\n        break;\n      case time.getHours()>=11 && time.getHours()<=17:\n        grettings = 'Hello'\n        break;\n      default:\n        grettings = 'Good evening'\n    }\n    return grettings;\n  }\n\n  getUserName(){\n    //console.log(this.formData)\n    // return usernal with first letter Cappitalized\n    return this.formData.email.split(\"@\")[0].split(' ').map(c => c.slice(0, 1).toUpperCase() + c.slice(1)).join(' ')\n  }\n\n}\n","/**\n* @Author: Nicolas Fazio <webmaster-fazio>\n* @Date:   11-12-2016\n* @Email:  contact@nicolasfazio.ch\n* @Last modified by:   webmaster-fazio\n* @Last modified time: 15-01-2017\n*/\n\nexport class LinksService {\n\n  constructor(){\n    console.log('Hello LinksService!')\n    this.arrayData = []\n    // this.arrayData = [\n    //   {\n    //     'title': 'Github',\n    //     'url': 'https://github.com/fazionico',\n    //     'altTitle': 'Follow Nicolas Fazio on Github'\n    //   },\n    //   {\n    //     'title': 'Web site',\n    //     'url': 'http://nicolasfazio.ch/',\n    //     'altTitle': 'Nicolas Fazio, Hybrid Mobile & Web developper'\n    //   },\n    //   {\n    //     'title': 'Twitter',\n    //     'url': 'https://twitter.com/fazionico',\n    //     'altTitle': 'Follow Nicolas Fazio on Twitter'\n    //   }\n    // ]\n  }\n\n  initData(storageService){\n    /*\n      Using localStorage to save user links data\n    */\n    this.storageService = storageService;\n    let userData = this.storageService.db[this.storageService.currentUser].user\n    if(userData.links){\n      this.arrayData = userData.links\n    }\n  }\n  getData(){\n    //Return a new promise.\n    return new Promise((resolve)=> {\n      /*\n       TODO:\n            REMOVE $this.arrayData\n              AND replace $this.arrayData by a XMLHttpRequest to your own database REST API\n              OR replace $this.arrayData by your Firbase Provider\n              OR store data usign localStorage with storageService provider\n            OR simply change $this.arrayData key and value.\n            THEN retur the response as a Promise\n      */\n      // DEFAULT: Simply return $this.arrayData as a Promise\n      resolve(this.arrayData)\n    });\n  }\n\n  saveData(dataLinks){\n    console.log('LinksService: Save data-> ', dataLinks)\n    this.storageService.db[this.storageService.currentUser].user.links = dataLinks\n    this.storageService.update()\n  }\n}\n","/**\n* @Author: Nicolas Fazio <webmaster-fazio>\n* @Date:   08-12-2016\n* @Email:  contact@nicolasfazio.ch\n* @Last modified by:   webmaster-fazio\n* @Last modified time: 15-01-2017\n*/\n\nexport class StorageService{\n\n  constructor(){\n    this.dbName = 'browser-dev'\n    this.db = []\n    this.currentUser = null\n  }\n\n  loadData(){\n    let db = this.read()\n    if(db){\n      this.db.push(...db)\n    }\n    else {\n      this.create()\n      this.db.push({})\n    }\n    console.log('StorageService: database ready ->', this.db)\n  }\n\n  isAuth(){\n    for (var i = 0; i < this.db.length; i++) {\n      if(this.db[i].user){\n        if(this.db[i].user.isAuth){\n          this.currentUser = i\n          return this.db[i].user.isAuth\n        }\n      }\n    }\n  }\n\n  login(userData){\n    let isAuth = this.isAuth()\n    console.log('StorageService: login->', isAuth, userData)\n    if(!isAuth){\n      if(this.db.length >0){\n        // if db is not empty, found if user exist in db\n        let found = false;\n        this.db.forEach((db, index)=>{\n          if(userData.email === db.user.email){\n            // user is found !!\n            console.log('found user-> ', db.user)\n            found = true;\n            this.db[index].user.isAuth = true;\n            this.currentUser = index\n            this.update()\n          }\n        })\n        // if user is not found, creat a new user\n        if(found === false){\n            let newUser = {};\n            newUser.user = userData\n            newUser.user.isAuth = true\n            this.currentUser = this.db.length\n            this.db.push(newUser)\n            console.log('add new user-> ', newUser)\n            this.update()\n        }\n      }\n      else{\n        // if db is empty: add the first user\n        let newUser = {};\n        newUser.user = userData\n        newUser.user.isAuth = true\n        this.db.push(newUser)\n        this.currentUser = 0\n        console.log('create first user-> ', newUser)\n        this.update()\n      }\n    }\n  }\n\n  /* Methodes CRUD Query */\n\n  create(){\n    console.log('StorageService: create->', this.dbName)\n    localStorage.setItem(this.dbName, JSON.stringify([]))\n  }\n\n  read(){\n    console.log('StorageService: read->', this.dbName)\n    let query = localStorage.getItem(this.dbName)\n    //console.log(query)\n    if(query){\n      return JSON.parse(query)\n    }\n  }\n\n  update(){\n    console.log('StorageService: update->', this.db)\n    localStorage.setItem(this.dbName, JSON.stringify(this.db))\n  }\n\n  delete(item){\n\n  }\n\n}\n","export const API_KEY_CONFIG = {\n  'client_id': \"8560f3274856a42259232fa219050bc7edc3d7025514987a4b3b0becc17ba029\",\n  'client_secret': \"4674868e0865fcf7a2b63e1570d98f6e7470d8cd2cad3c4d7f8573c82702436d\"\n}\n","/**\n* @Author: Nicolas Fazio <webmaster-fazio>\n* @Date:   07-12-2016\n* @Email:  contact@nicolasfazio.ch\n* @Last modified by:   webmaster-fazio\n* @Last modified time: 11-12-2016\n*/\n\nimport  { API_KEY_CONFIG } from '../../providers/unsplash/apiKey-config';\n\nexport class UnsplashService{\n\n  constructor(){\n    this.data = [];\n    this.params = API_KEY_CONFIG\n    this.queryUrl = 'https://api.unsplash.com/photos/random?count=1&client_id='\n    console.log('hello UnsplashService!')\n  }\n\n  getRandomImg(){\n      //Return a new promise.\n      return new Promise((resolve, reject)=> {\n        // Do the usual XHR stuff\n        var req = new XMLHttpRequest();\n        req.open('GET', this.queryUrl+this.params.client_id);\n        req.onload = () =>{\n          // This is called even on 404 etc\n          // so check the status\n          if (req.status == 200) {\n            // Resolve the promise with the response text\n            resolve(req.responseText);\n          }\n          else {\n            // Otherwise reject with the status text\n            // which will hopefully be a meaningful error\n            reject(Error(req.statusText));\n          }\n        };\n        // Handle network errors\n        req.onerror = ()=> {\n          reject(Error(\"Network Error\"));\n        };\n        // Make the request\n        req.send();\n      });\n  }\n}\n"]}